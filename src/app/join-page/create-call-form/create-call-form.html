<div
    class="bg-white border-4 border-black p-3 sm:p-6 rounded-2xl sm:rounded-3xl shadow-[8px_8px_0px_rgba(0,0,0,1)] flex flex-col gap-3 sm:gap-4 w-full sm:max-w-2xl mx-auto">
    <h2 class="text-lg sm:text-2xl font-bold uppercase border-b-4 border-black pb-2 mb-1 sm:mb-2">Start a New Call</h2>
    <p class="text-xs sm:text-sm text-gray-600 mb-1 sm:mb-2">Initiate a call and share the code with a friend.</p>

    <!-- Step 1: Create Offer -->
    <div class="flex flex-col gap-2">
        <span class="font-bold badge bg-black text-white px-2 py-1 rounded inline-block w-max">Step 1</span>
        <button (click)="createOffer()"
            class="px-6 py-3 bg-green-400 font-bold border-2 border-black rounded-xl hover:bg-green-500 transition-all shadow-[4px_4px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_rgba(0,0,0,1)] text-left flex justify-between items-center group">
            Generate Call Code
            <span class="group-hover:translate-x-1 transition-transform">â†’</span>
        </button>
    </div>

    <!-- Step 2: Display Offer (Implied for user to copy) -->
    <div class="flex flex-col gap-2">
        <label class="font-bold text-sm uppercase">Your Call Code (Copy & Send to Friend)</label>
        <div class="relative">
            <textarea readonly placeholder="Call code will appear here..." [value]="offer() || ''"
                class="w-full h-32 p-3 bg-gray-100 border-2 border-black rounded-xl font-mono text-xs resize-none focus:outline-none focus:ring-2 focus:ring-black"></textarea>
            @if (offer()) {
            <button (click)="copyToClipboard(offer()!)"
                class="absolute top-2 right-2 px-3 py-1 bg-green-400 font-bold text-xs border-2 border-black rounded-lg hover:bg-green-500 transition-all shadow-[2px_2px_0px_rgba(0,0,0,1)] active:translate-x-px active:translate-y-px active:shadow-[1px_1px_0px_rgba(0,0,0,1)]">
                @if (copied()) {
                âœ“ Copied
                } @else {
                ðŸ“‹ Copy
                }
            </button>
            }
        </div>
    </div>

    <!-- Step 3: Paste Answer -->
    <div class="flex flex-col gap-2 mt-4">
        <span class="font-bold badge bg-black text-white px-2 py-1 rounded inline-block w-max">Step 3</span>
        <label class="font-bold text-sm uppercase">Paste Friend's Response Code</label>
        <textarea #answerInput placeholder="Paste response code here..."
            class="w-full h-32 p-3 bg-white border-2 border-black rounded-xl font-mono text-xs resize-none focus:outline-none focus:ring-4 focus:ring-pink-200"></textarea>
    </div>

    <!-- Step 4: Set Answer -->
    <div class="flex flex-col gap-2">
        <span class="font-bold badge bg-black text-white px-2 py-1 rounded inline-block w-max">Step 4</span>
        <button (click)="setAnswer(answerInput.value)"
            class="px-6 py-3 bg-purple-400 font-bold border-2 border-black rounded-xl hover:bg-purple-500 transition-all shadow-[4px_4px_0px_rgba(0,0,0,1)] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_rgba(0,0,0,1)]">
            Verify & Connect
        </button>
    </div>
</div>